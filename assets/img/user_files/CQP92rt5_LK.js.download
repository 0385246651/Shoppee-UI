if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometUFIReactionsDialogQuery.graphql",["CometUFIReactionsDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedbackTargetID"},c={defaultValue:null,kind:"LocalArgument",name:"reactionID"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e=[{kind:"Variable",name:"id",variableName:"feedbackTargetID"}],f={kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIReactionsDialogQuery_tabContent",fragmentName:"CometUFIReactionsDialogTabContentStableRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometReactionsDialogTabContentRendererStable",abstractKey:null},g={kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIReactionsDialogQuery_tabContent",fragmentName:"CometUFIReactionsDialogTabContentExperimentalRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometReactionsDialogTabContentRendererExperimental",abstractKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[h],storageKey:null},j={alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null},{args:null,documentName:"CometUFIReactionsDialogQuery",fragmentName:"CometUFIReactionDialogExplanationString_reactionDisplayConfig",fragmentPropName:"reactionDisplayConfig",kind:"ModuleImport"}],storageKey:null},k=[{kind:"Literal",name:"render_location",value:"REACTORS_DETAILS"}],l={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},m={alias:null,args:null,concreteType:"TopReactionSummaryPerReaction",kind:"LinkedField",name:"summary",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"reaction",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"face_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometUFIReactionsDialogQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_reactions_dialog_tab_content_renderer",plural:!1,selections:[f,g],storageKey:null},i,j,{alias:null,args:k,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[l,m,{args:null,kind:"FragmentSpread",name:"CometUFIReactionsDialogTabHeaderRelay_fragmentRef"}],storageKey:'top_reactions(render_location:"REACTORS_DETAILS")'}],type:"Feedback",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"CometUFIReactionsDialogQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,h,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_reactions_dialog_tab_content_renderer",plural:!1,selections:[n,f,g],storageKey:null},i,j,{alias:null,args:k,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[l,m],storageKey:'top_reactions(render_location:"REACTORS_DETAILS")'}],type:"Feedback",abstractKey:null}],storageKey:null}]},params:{id:b("CometUFIReactionsDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFIReactionsDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometUFIReactionsDialogTabHeaderRelay_fragmentRef.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometUFIReactionsDialogTabHeaderRelay_fragmentRef",selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"TopReactionSummaryPerReaction",kind:"LinkedField",name:"summary",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"reaction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"face_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"TopReactionsConnection",abstractKey:null};e.exports=a}),null);
__d("CometDialogTabHeader.react",["fbt","CometCircleButton.react","CometDialogHeaderContainer.react","CometEntityHeaderTabs.react","CrossFilled24.svg.react","TetraText.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.closeTestID;b=b===void 0?"close-button":b;b=a.withCloseButton;b=b===void 0?!0:b;var d=a.onClose;d=d===void 0?c("emptyFunction"):d;var e=a.text,f=a.tabs;a=a.id;return i.jsxs(i.Fragment,{children:[i.jsxs(c("CometDialogHeaderContainer.react"),{children:[e!=null?i.jsx("div",{className:"x14qfxbe x1d52u69 xktsk01 xc9qbxq"}):i.jsx("div",{className:"x1swvt13 x1pi30zi",children:i.jsx(c("CometEntityHeaderTabs.react"),{menuSize:"full",tabs:f})}),e!=null&&i.jsx(c("TetraText.react"),{align:"center",id:a,isSemanticHeading:!0,numberOfLines:1,type:"headlineEmphasized2",children:e}),b&&i.jsx("div",{className:"x1d52u69 xktsk01",children:i.jsx(c("CometCircleButton.react"),{icon:c("CrossFilled24.svg.react"),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:d,size:36,testid:void 0})})]}),e!=null&&i.jsx("div",{className:"x1swvt13 x1pi30zi",children:i.jsx(c("CometEntityHeaderTabs.react"),{tabs:f})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIReactionsDialogTabHeader.react",["CometDialogTabHeader.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.id,d=a.onClose;a=a.tabs;return h.jsx(c("CometDialogTabHeader.react"),{id:b,onClose:d,tabs:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIReactionsDialogTabHeaderRelay.react",["fbt","ColorUtils","CometRelay","CometTrackingNodeProvider.react","CometUFIReactionsDialogTabHeader.react","CometUFIReactionsDialogTabHeaderRelay_fragmentRef.graphql","FBLogger","ImageIconSource","formatNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=i!==void 0?i:i=b("CometUFIReactionsDialogTabHeaderRelay_fragmentRef.graphql");function a(a){var b=a.id,e=a.onClose,f=a.onPress,g=a.queries,i=a.selectedReaction,l=a.shouldHideReactionCounts;a=d("CometRelay").useFragment(k,g);g=(g=a==null?void 0:a.summary)!=null?g:[];g=g.map(function(a){var b,d,e=a.reaction_count_reduced,f=a.reaction_count;b=(b=a.reaction)==null?void 0:b.localized_name;d=(d=a.reaction)==null?void 0:d.id;if(e==null||f==null||b==null||d==null){var g;return c("FBLogger")("ufi2").mustfix("Essential fields missing for reaction data\n           countLabel: "+((g=e)!=null?g:"null")+",\n           count: "+((g=f)!=null?g:"null")+",\n           label: "+((g=b)!=null?g:"null")+",\n           reactionID: "+((g=d)!=null?g:"null"))}return{color:(g=a.reaction)==null?void 0:g.color,count:f,countLabel:e,imageUri:(g=a.reaction)==null?void 0:(f=g.face_image)==null?void 0:f.uri,label:b,reactionID:d}}).filter(Boolean);var m=g.reduce(function(a,b){return a+b.count},0);a=((a=a==null?void 0:a.count)!=null?a:0)>1;a=a||m===0?[{color:"FF2078f4",count:m,countLabel:c("formatNumber")(m),imageUri:null,label:h._("__JHASH__kt86JVUy5S3__JHASH__"),reactionID:null}].concat(g):g;m=a.map(function(a){var b=i===a.reactionID,e=b&&a.color!=null?d("ColorUtils").hexARGBToCSSRGBA(a.color):null,g=a.imageUri;return{"aria-label":a.label.toString()+", "+a.countLabel,highlightColor:e!=null?e:void 0,icon:g!=null?new(c("ImageIconSource"))(g,20,20):void 0,iconLocation:"left",label:l||a.imageUri==null?a.label:a.countLabel,onPress:function(){return f(a.reactionID)},selected:b,underlineColor:e!=null?e:void 0}});return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:163,children:j.jsx(c("CometUFIReactionsDialogTabHeader.react"),{id:b,onClose:e,tabs:m})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIReactionsDialog.react",["fbt","CometDialog.react","CometDialogCloseCallbackContext.react","CometDialogHeader.react","CometErrorBoundary.react","CometPlaceholder.react","CometProfileListRowLoadingState.react","CometRelay","CometTrackingNodeProvider.react","CometTransientDialogProvider.react","CometUFIReactionsDialogQuery.graphql","CometUFIReactionsDialogTabHeaderRelay.react","NullStateLists","ProfileCometLinkContext","TetraNullState.react","formatNumber","react","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useMemo,l=e.useState;function m(a){var e,f,g=a.props;a=a.queries;var m=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometUFIReactionsDialogQuery.graphql"),a.cometUFIReactionsQueryReference),n=m.node;if(n==null)throw c("unrecoverableViolation")("No feedback for ID","ufi2");m=((m=n==null?void 0:(m=n.top_reactions)==null?void 0:m.count)!=null?m:0)>1;e=(e=n==null?void 0:(e=n.top_reactions)==null?void 0:e.summary)!=null?e:[];f=n==null?void 0:(f=n.reaction_display_config)==null?void 0:f.reaction_display_strategy;var o=f==="HIDE_COUNTS";f=o||f==="USE_REACTION_SHEET_STRING_ONLY";var p=k(function(){var a;return{groupID:(a=n.associated_group)==null?void 0:a.id}},[n.associated_group]);e=e.map(function(a){var b,d,e=a.reaction_count_reduced,f=a.reaction_count;b=(b=a.reaction)==null?void 0:b.localized_name;d=(d=a.reaction)==null?void 0:d.id;if(e==null||f==null||b==null||d==null){var g;return c("recoverableViolation")("Essential fields missing for reaction data\n           countLabel: "+((g=e)!=null?g:"null")+",\n           count: "+((g=f)!=null?g:"null")+",\n           label: "+((g=b)!=null?g:"null")+",\n           reactionID: "+((g=d)!=null?g:"null"),"ufi2")}return{color:(g=a.reaction)==null?void 0:g.color,count:f,countLabel:e,imageUri:(g=a.reaction)==null?void 0:(f=g.face_image)==null?void 0:f.uri,label:b,reactionID:d}}).filter(Boolean);var q=e.reduce(function(a,b){return a+b.count},0);m=m||q===0?[{color:"FF2078f4",count:q,countLabel:c("formatNumber")(q),imageUri:null,label:h._("__JHASH__kt86JVUy5S3__JHASH__"),reactionID:null}].concat(e):e;q=a.cometUFIReactionsQueryReference.variables.reactionID;e=l(q!=null?q:m[0].reactionID);var r=e[0];q=e[1];return j.jsx(c("ProfileCometLinkContext").Provider,{value:p,children:j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:316,children:j.jsx(c("CometDialog.react"),{footer:null,header:j.jsx(c("CometUFIReactionsDialogTabHeaderRelay.react"),{onClose:g.onClose,onPress:q,queries:n.top_reactions,selectedReaction:r,shouldHideReactionCounts:o}),onClose:g.onClose,children:j.jsx(d("CometDialogCloseCallbackContext.react").CometDialogCloseCallbackContextProvider,{onClose:g.onClose,children:j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsxs(c("CometPlaceholder.react"),{fallback:j.jsx("div",{className:"xkhd6sd xwib8y2 x4uap5 x1y1aw1k x1rife3k x1tbbn4q",children:Array(Math.min((p=(e=m.find(function(a){return a.reactionID===r}))==null?void 0:e.count)!=null?p:7,7)).fill(null).map(function(a,b){return j.jsx(c("CometProfileListRowLoadingState.react"),{},b)})}),children:[f&&j.jsx(d("CometRelay").MatchContainer,{match:n==null?void 0:n.reaction_display_config}),j.jsx(d("CometRelay").MatchContainer,{match:n.comet_reactions_dialog_tab_content_renderer,props:{feedbackRef:n.comet_reactions_dialog_tab_content_renderer,feedbackTargetID:a.cometUFIReactionsQueryReference.variables.feedbackTargetID,reactionID:r}})]})})})})})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){return j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx(c("CometDialog.react"),{footer:null,header:j.jsx(c("CometDialogHeader.react"),{text:h._("__JHASH__ggyYF0ivRep__JHASH__"),withCloseButton:!0}),children:j.jsx(c("TetraNullState.react"),{body:h._("__JHASH__VbGm32HwU8H__JHASH__"),headline:h._("__JHASH__LZzqqAIhNOp__JHASH__"),icon:c("NullStateLists")})})},children:j.jsx(m,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);