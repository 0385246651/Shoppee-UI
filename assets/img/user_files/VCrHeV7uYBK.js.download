if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometHomeContactListItemsNoHover_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"enableMsys"}],kind:"Fragment",metadata:null,name:"CometHomeContactListItemsNoHover_viewer",selections:[{condition:"enableMsys",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{args:[{kind:"Variable",name:"enableMsys",variableName:"enableMsys"}],kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeContactsHeader_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeContactsHeader_viewer",selections:[{alias:null,args:null,concreteType:"JoinableVideoChatsViewerFields",kind:"LinkedField",name:"joinable_video_chats",plural:!1,selections:[{alias:"new_room_fbt",args:[{kind:"Literal",name:"type",value:"NEW_ROOM"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"joinable_video_chats_string",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:'joinable_video_chats_string(type:"NEW_ROOM")'}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeContacts_RankedContactsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5313276232104917"}),null);
__d("CometHomeContacts_RankedContactsQuery.graphql",["CometHomeContacts_RankedContactsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometHomeContacts_RankedContactsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBInitialPresenceData",kind:"LinkedField",name:"initial_presence_data",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBLSPresenceInitialPresenceData",kind:"LinkedField",name:"ls_initial_presence_data",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBRankedContacts",kind:"LinkedField",name:"ranked_contacts",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[d]}],type:"User",abstractKey:null},{args:[{kind:"Literal",name:"enableMsys",value:!0}],kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometHomeContacts_RankedContactsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBInitialPresenceData",kind:"LinkedField",name:"initial_presence_data",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBLSPresenceInitialPresenceData",kind:"LinkedField",name:"ls_initial_presence_data",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBRankedContacts",kind:"LinkedField",name:"ranked_contacts",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContacts_RankedContactsQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContacts_RankedContactsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometHomeContacts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"count",variableName:"count"},b=[a,{kind:"Variable",name:"enableMsys",variableName:"enableMsys"}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"enableMsys"},{kind:"RootArgument",name:"noHovercards"}],kind:"Fragment",metadata:null,name:"CometHomeContacts_viewer",selections:[{condition:"enableMsys",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[a],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometHomeContactsHeader_viewer"},{condition:"noHovercards",kind:"Condition",passingValue:!1,selections:[{args:b,kind:"FragmentSpread",name:"CometHomeContactListItemsHoverCards_viewer"}]},{condition:"noHovercards",kind:"Condition",passingValue:!0,selections:[{args:b,kind:"FragmentSpread",name:"CometHomeContactListItemsNoHover_viewer"}]}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[{condition:"presenceReadEnableMsys",kind:"Condition",passingValue:!1,selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]},{condition:"presenceReadEnableMsys",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[b,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[b,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"}]}],type:"User",abstractKey:null}],storageKey:null}]}];return{kind:"SplitOperation",metadata:{},name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,concreteType:"JoinableVideoChatsViewerFields",kind:"LinkedField",name:"joinable_video_chats",plural:!1,selections:[{alias:"new_room_fbt",args:[{kind:"Literal",name:"type",value:"NEW_ROOM"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"joinable_video_chats_string",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:'joinable_video_chats_string(type:"NEW_ROOM")'}],storageKey:null},{condition:"presenceReadEnableMsys",kind:"Condition",passingValue:!1,selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}]},{condition:"noHovercards",kind:"Condition",passingValue:!1,selections:c},{condition:"noHovercards",kind:"Condition",passingValue:!0,selections:c}],storageKey:null}]}}();e.exports=a}),null);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"numContactsToFetch"},{kind:"RootArgument",name:"presenceReadEnableMsys"}],kind:"Fragment",metadata:null,name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"numContactsToFetch"},{kind:"Variable",name:"enableMsys",variableName:"presenceReadEnableMsys"}],kind:"FragmentSpread",name:"CometHomeContacts_viewer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"XFBContactsHomeDefaultRenderer",abstractKey:null};e.exports=a}),null);
__d("MWChatContact_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enableMsys"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatContact_profile",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{condition:"enableMsys",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"}]},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}}();e.exports=a}),null);
__d("AppRoomsFilled16.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 16 16",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-448 -544)",children:h.jsx("path",{d:"M457.25 552.5H455v2.25a.75.75 0 0 1-1.5 0v-2.25h-2.25a.75.75 0 0 1 0-1.5h2.25v-2.25a.75.75 0 0 1 1.5 0V551h2.25a.75.75 0 0 1 0 1.5m6.38-4.435a.62.62 0 0 0-.64.047l-2.49 1.634v-1.394a1.854 1.854 0 0 0-1.852-1.852l-8.796.002a1.854 1.854 0 0 0-1.851 1.852v6.793c0 1.021.83 1.852 1.852 1.852l1.147-.002h7.648a1.854 1.854 0 0 0 1.852-1.851v-1.392l2.457 1.61a.641.641 0 0 0 .673.071.663.663 0 0 0 .37-.601v-6.167c0-.26-.142-.49-.37-.602"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("AppRoomsFilled16IconSvg.react",["AppRoomsFilled16.svg.react","SVGIcon"],(function(a,b,c,d,e,f,g){"use strict";a=d("SVGIcon").svgIcon(c("AppRoomsFilled16.svg.react"));g["default"]=a}),98);
__d("CometHomeContactListItems.react",["cr:697","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(b("cr:697"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSPreloadThreadForContact.re",["MWLSPreloadThreadForContact.bs"],(function(a,b,c,d,e,f){a=b("MWLSPreloadThreadForContact.bs").usePreloaderForUser;f.usePreloaderForUser=a}),null);
__d("MWChatContactImpl.react",["CometErrorBoundary.react","CometGlobalPanelGating","CometPlaceholder.react","CurrentEnvironment","JSResourceForInteraction","JSScheduler","LSThreadAttributionStore.re","MAWChatVerifyCutover.react","MWInboxRouteBuilder.re","MWLSPreloadThreadForContact.re","TetraListCell.react","XCometActiveContactsControllerRouteBuilder","gkx","react","useCometPreloader","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useState,k=c("JSResourceForInteraction")("MWV2ChatTab.bs").__setRef("MWChatContactImpl.react");function a(a){var b=a.contactInfo,e=a.entryPoint,f=a.openTabForUser,g=a.preventLocalNavigation;a=a.selected;var l=b.id,m=b.isOnline,n=b.lastActiveTime,o=b.name,p=b.profilePictureUrl;b=b.storyInfo;var q=j(),r=q[0];q=q[1];var s=c("MWLSPreloadThreadForContact.re").usePreloaderForUser(),t=i(function(){s(l)},[l,s]),u=i(function(){c("JSScheduler").scheduleSpeculativeCallback(function(){k.preload()})},[]);u=c("useCometPreloader")("button",u,t);var v=u[0];t=u[1];var w=u[2],x=u[3];u=i(function(a){w!=null&&w(a),f(l,!1)},[w,l,f]);var y=i(function(a){w!=null&&w(a),c("LSThreadAttributionStore.re").setSource(l,e)},[w,l,e]),z=i(function(a){v(a),x(!0)},[v,x]),A=c("useServerTime")(),B=1e3*60*60;m={addOn:m?{type:"availabilityBadge"}:n!=null&&Math.floor((A.valueOf()-new Date(n*1e3))/B)<=1?{border:"web-wash",time:n,type:"lastActiveTimeBadge"}:void 0,linkProps:b==null?void 0:b.linkProps,shape:"circle",size:d("CometGlobalPanelGating").isGlobalPanelEnabled()?24:36,source:{uri:p},storyStatus:b==null?void 0:b.storyStatus,type:"profile-photo"};A=c("gkx")("1950")||c("gkx")("7681");B=null;n=r!=null?r:l;A?B=c("CurrentEnvironment").facebookdotcom?c("XCometActiveContactsControllerRouteBuilder").buildURL({thread_key:n}):"/active/t/"+n+"/":B=r!=null?d("MWInboxRouteBuilder.re").routeBuilderModule.buildE2EEThreadURL({thread_key:r}):d("MWInboxRouteBuilder.re").routeBuilderModule.buildURL({thread_key:n});return h.jsxs(h.Fragment,{children:[h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("MAWChatVerifyCutover.react"),{id:l,updateThreadKey:q})})}),h.jsx(c("TetraListCell.react"),{addOnPrimary:m,disabled:!1,headline:o,level:4,linkProps:{preventLocalNavigation:g,url:B},onHoverIn:z,onHoverOut:t,onPress:g?u:y,selected:a,testid:void 0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatContact.react",["CometRelay","MWChatContactImpl.react","MWChatContact_profile.graphql","XCometStoriesControllerRouteBuilder","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.activeStatusOn,f=a.entryPoint,g=a.openTabForUser,j=a.preventLocalNavigation;j=j===void 0?!0:j;var k=a.profile;a=a.selected;a=a===void 0?!1:a;k=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatContact_profile.graphql"),k);var l=k.availability,m=k.id,n=k.last_active_time,o=k.name,p=k.profile_picture,q,r="none";k=(k=k.story_bucket)==null?void 0:k.nodes;k=k?k[0]:null;if(k!=null){var s,t=k.id;s=(s=k.first_story_to_show)==null?void 0:s.id;k=k==null?void 0:(k=k.first_story_to_show)==null?void 0:(k=k.story_card_seen_state)==null?void 0:k.is_seen_by_viewer;k!=null&&(r=k?"seen":"unseen");if(r!=="none"&&t!=null&&s!=null){k=c("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:t,card_id:s,view_single:!0});q={prefetchQueriesOnHover:!0,url:k}}}t=p==null?void 0:p.uri;if(m==null)return c("recoverableViolation")("Chat contact list cell is missing id","comet_ui");if(o==null)return c("recoverableViolation")("Chat contact list cell is missing name","comet_ui");if(t==null)return c("recoverableViolation")("Chat contact list cell is missing profileUri","comet_ui");s=e&&l==="ACTIVE";k=e?n:void 0;return i.jsx(c("MWChatContactImpl.react"),{contactInfo:{id:m,isOnline:s,lastActiveTime:k,name:o,profilePictureUrl:t,storyInfo:{linkProps:q,storyStatus:r}},entryPoint:f,openTabForUser:g,preventLocalNavigation:j,selected:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilterContacts",["CometHomeContactsConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var b=0,d=0;a=a.filter(function(a){if(d>=c("CometHomeContactsConfig").numContactsToFetch&&a.availability!=="ACTIVE")return!1;var e=a==null?void 0:a.id;if(e==null)return!1;a.availability==="ACTIVE"&&b++;d++;return!0});return{activeCount:b,filteredContacts:a}};g.filter=a}),98);
__d("CometHomeContactListItemsNoHover.react",["CometHomeContactListItemsNoHover_viewer.graphql","CometRelay","MWChatContact.react","MWChatFilterContacts","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.activeStatusOn,f=a.openTabForUser,g=a.updatedcontacts;a=a.viewer$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactListItemsNoHover_viewer.graphql"),a);g=(a=(a=a==null?void 0:a.chat_sidebar_contacts)!=null?a:g)!=null?a:[];a=d("MWChatFilterContacts").filter(g);g=a.filteredContacts;return i.jsx(i.Fragment,{children:g.map(function(a){return i.jsx("li",{children:i.jsx("div",{children:i.jsx(c("MWChatContact.react"),{activeStatusOn:e,entryPoint:"sidebarContactsList",openTabForUser:f,profile:a})})},a.id)})})}a.displayName=a.name+" [from "+f.id+"]";e=i.memo(a,function(a,b){return b.preventReordering});g["default"]=e}),98);
__d("CometHomeContactsHeader.react",["fbt","AppRoomsFilled16IconSvg.react","CometEntryPointPopoverTrigger.react","CometGlobalPanelGating","CometHomeChatSettings.entrypoint","CometHomeContactsHeader_viewer.graphql","CometProgressRingIndeterminate.react","CometRelay","CometTooltip.react","CometTooltipGroup.react","CometUnitHeader.react","Dots3HorizontalFilled20IconSvg.react","MagnifyingGlassFilled16IconSvg.react","MessengerWebEventsFalcoEvent","RoomsLinkCreationSupported","TetraIcon.react","cometGetKeyCommandConfig","cr:942","cr:943","react","useLayerKeyCommands","useMWChatNewVideoChat"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useEffect,l=e.useMemo,m=h._("__JHASH__aqUE4f6aqXC__JHASH__"),n=h._("__JHASH__EjcWQXI8z-f__JHASH__"),o=h._("__JHASH__0VczyHdqI5I__JHASH__"),p=h._("__JHASH__sI0NH8bv2ZB__JHASH__");function a(a){var e;a=a.viewer;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometHomeContactsHeader_viewer.graphql"),a);var f=c("useMWChatNewVideoChat")(),g=f[0];f=f[1];var h=b("cr:942")==null?void 0:b("cr:942").useHook("rhc_search_icon","sidebarSearch");e=(e=b("cr:943")==null?void 0:b("cr:943")("sidebarContactsList"))!=null?e:{};var q=e.onPress;e=babelHelpers.objectWithoutPropertiesLoose(e,["onPress"]);var r=(h=h)!=null?h:q;h=l(function(){return[d("cometGetKeyCommandConfig").getCometKeyCommandConfig("newsfeed","searchContacts",r)]},[r]);c("useLayerKeyCommands")(h);k(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"show_sidebar_contacts"}})},[]);q=(a=(q=a.joinable_video_chats)==null?void 0:(h=q.new_room_fbt)==null?void 0:h.text)!=null?a:n;return j.jsx(c("CometUnitHeader.react"),{addOn_DEPRECATED:j.jsx("div",{className:"x78zum5",children:j.jsxs(c("CometTooltipGroup.react"),{children:[d("RoomsLinkCreationSupported").isLinkCreationSupported()?j.jsx(c("CometTooltip.react"),{align:"end",tooltip:q,children:f||!1?j.jsx("div",{className:"x16n37ib xq8finb x78zum5 x6s0dn4",children:j.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})}):j.jsx("div",{className:"x16n37ib xq8finb",children:j.jsx(c("TetraIcon.react"),{"aria-label":q,color:"secondary",disabled:f,icon:c("AppRoomsFilled16IconSvg.react"),onPress:function(){return g("fb_chat_side_bar")},size:16})})}):null,j.jsx(c("CometTooltip.react"),{align:"end",position:"below",tooltip:o,children:j.jsx("div",{className:"x16n37ib xq8finb",children:j.jsx(c("TetraIcon.react"),babelHelpers["extends"]({},e,{"aria-label":o,color:"secondary",icon:c("MagnifyingGlassFilled16IconSvg.react"),onPress:function(){return r()},size:16}))})}),j.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{chatSettingsContextualSection:"contacts"},popoverEntryPoint:c("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,b,d){return j.jsx(c("CometTooltip.react"),{align:"end",position:"below",tooltip:p,children:j.jsx("div",{className:"x16n37ib",children:j.jsx(c("TetraIcon.react"),{"aria-label":p,color:"secondary",icon:c("Dots3HorizontalFilled20IconSvg.react"),onPress:function(){b()},ref:a,size:20})})})}})]})}),headline:m,headlineColor:d("CometGlobalPanelGating").isGlobalPanelEnabled()?"primary":"secondary",level:3})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContacts.react",["fbt","BaseContextualLayerAnchorRootContext","ChevronDownFilled16IconSvg.react","CometGlobalPanelGating","CometHomeContactListItems.react","CometHomeContactsHeader.react","CometHomeContactsPresenceAwareList.react","CometHomeContacts_RankedContactsQuery.graphql","CometHomeContacts_viewer.graphql","CometHomeRightRailUnit.react","CometRelay","CometVisualCompletionAttributes","FocusWithinHandler.react","MWChatFilterContacts","MessengerWebEventsFalcoEvent","PresenceContext","TetraButton.react","TetraIcon.react","WebPixelRatio","qex","react","requireDeferred","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react");e=d("react");var l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState,p=c("requireDeferred")("MWChatSidebarStateSettingMutation").__setRef("CometHomeContacts.react"),q=i!==void 0?i:i=b("CometHomeContacts_RankedContactsQuery.graphql"),r=j!==void 0?j:j=b("CometHomeContacts_viewer.graphql");function a(a){var b;a=a.viewer$key;return((b=c("qex")._("274"))!=null?b:!1)?k.jsx(t,{viewer$key:a}):k.jsx(s,{viewer$key:a})}a.displayName=a.name+" [from "+f.id+"]";function s(a){var b;a=a.viewer$key;a=d("CometRelay").useFragment(r,a);b=(b=a==null?void 0:a.chat_sidebar_contacts)!=null?b:[];var c=(a==null?void 0:a.chat_visibility)===!0;b=d("MWChatFilterContacts").filter(b);var e=b.activeCount;b=b.filteredContacts;return k.jsx(u,{activeCount:e,activeStatusOn:c,contactProfiles:null,filteredContacts:b,viewer:a})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b;a=a.viewer$key;a=d("CometRelay").useFragment(r,a);b=(b=(b=d("CometRelay").useLazyLoadQuery(q,{scale:d("WebPixelRatio").get()},{fetchPolicy:"store-only"}).viewer)==null?void 0:(b=b.initial_presence_data)==null?void 0:(b=b.ls_initial_presence_data)==null?void 0:b.ranked_contacts)!=null?b:[];var e=b==null?void 0:b.map(function(a){return a.profile}).filter(Boolean),f=l(c("PresenceContext")).chatVisibility;return k.jsx(u,{activeCount:null,activeStatusOn:f,contactProfiles:e,filteredContacts:b,viewer:a})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.activeCount,e=a.activeStatusOn,f=a.contactProfiles,g=a.filteredContacts,i=a.viewer;a=n(document.body);var j=d("CometRelay").useRelayEnvironment(),l=(i==null?void 0:i.chat_sidebar_is_collapsed)===!0,q=o(!1),r=q[0],s=q[1];q=c("useMWChatOpenTabForUser")("sidebarContactsList");var t=q[0];q[1];m(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"show_sidebar_contacts"}})},[]);return k.jsx("div",babelHelpers["extends"]({"data-testid":void 0},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:k.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:a,children:g.length>0?k.jsx(c("CometHomeRightRailUnit.react"),{hasBottomDivider:!d("CometGlobalPanelGating").isGlobalPanelEnabled()&&!l,header:k.jsx(c("CometHomeContactsHeader.react"),{viewer:i}),children:l?k.jsx("div",{className:"x1swvt13 xwib8y2 x1pi30zi x1y1aw1k",children:k.jsx(c("TetraButton.react"),{addOnSecondary:k.jsx(c("TetraIcon.react"),{icon:c("ChevronDownFilled16IconSvg.react"),size:16}),label:h._("__JHASH__34dpQA6VY_Z__JHASH__",[h._param("active count",b)]),onPress:function(){p.onReadyImmediately(function(a){return a({environment:j,isCollapsed:!1})})},size:"medium",type:"secondary"})}):k.jsx("div",{onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:e,children:k.jsx(c("CometHomeContactListItems.react"),{activeStatusOn:e,openTabForUser:t,preventReordering:r||a||b,updatedcontacts:f,viewer$key:i})})}})})}):null})}))}u.displayName=u.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContactsDefaultRenderer.react",["CometHomeContacts.react","CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.contactsHomeDefaultRenderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql"),a);a=a.viewer;return i.jsx(c("CometHomeContacts.react"),{viewer$key:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);